<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Update Profile</title>
    <link rel="stylesheet" href="/css/styles.css" />
    <style>
        body { font-family: Arial, sans-serif; background-color: #f9fafb; padding: 30px; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
        label { display:block; margin-top:10px; font-weight:600; }
        input { width:100%; padding:8px; margin-top:6px; border:1px solid #d1d5db; border-radius:4px }
        .btn { margin-top:16px; padding:10px 14px; background:#007bff; color:white; border:none; border-radius:4px; cursor:pointer }
        .btn.secondary { background:#6c757d }
    </style>
</head>
<body>
<div class="container">
    <h2>Update Your Profile</h2>
    <form id="profileForm" th:action="@{/profile}" th:object="${patient}" method="post" novalidate>
        <input type="hidden" th:field="*{patientID}" />

        <label for="patientName">Name</label>
        <input id="patientName" name="patientName" type="text" th:field="*{patientName}" placeholder="Full name" required />
        <div class="error" id="patientName-error" aria-live="polite"></div>

        <label for="email">Email</label>
        <input id="email" name="email" type="email" th:field="*{email}" placeholder="email@example.com" required />
        <div class="error" id="email-error" aria-live="polite"></div>

        <label for="phno">Phone</label>
        <input id="phno" name="phno" type="tel" th:field="*{phno}" placeholder="Phone number" required />
        <div class="error" id="phno-error" aria-live="polite"></div>

        <label for="address">Address</label>
        <input id="address" name="address" type="text" th:field="*{address}" placeholder="Address" />
        <div class="error" id="address-error" aria-live="polite"></div>

        <label for="dob">Date of Birth</label>
        <input id="dob" name="dob" type="text" th:field="*{dob}" placeholder="DD/MM/YYYY" />
        <div class="error" id="dob-error" aria-live="polite"></div>

        <label for="password">Password</label>
        <input id="password" name="password" type="password" th:field="*{password}" placeholder="Leave blank to keep unchanged" />
        <div class="error" id="password-error" aria-live="polite"></div>
        <div class="hint">Leave blank to keep current password. If changing, new password must meet complexity requirements.</div>

        <button type="submit" class="btn">Update</button>
        <button th:href="@{/log}" class="btn secondary">Cancel</button>
    </form>
</div>
</body>
</html>
